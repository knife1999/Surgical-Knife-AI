:root {
  --panel-bg: #171a1f;
  --panel-bg-soft: #1f242b;
  --input-bg: #13171c;
  --border-color: #2f3640;
  --accent-color: #9ba8bd;
  --text-main: #d8dee8;
  --text-sub: #98a3b3;
  --log-bg: #11151a;
  --btn-bg: #242b34;
  --btn-hover: #2c3541;
  --btn-border: #3b4552;
  --btn-primary-bg: #323f52;
  --btn-primary-hover: #3e4f67;
  --btn-primary-border: #4b5f7a;
  --main-tabs-bg: #1b2027;
  --main-tabs-bar-bg: #4f617a;
  --main-tabs-nav-bg: #161b21;
  --main-tabs-nav-border: #2b3340;
  --main-tabs-active-bg: #27303b;
  --tab-slider-label-color: #b8cbe4;
  --tab-slider-accent-color: #5f7ea8;
  --card-gradient-start: rgba(33, 40, 50, 0.95);
  --card-gradient-end: rgba(29, 35, 43, 0.95);
  --field-border-color: #2a323e;
  --field-block-bg: #1a2028;
  --select-option-bg: #20262e;
  --tag-primary-light-bg: rgba(125, 140, 161, 0.2);
  --tag-primary-light-text: #c8d4e7;
  --button-hover-border: #4a5563;
  --button-hover-text: #e2e8f2;
  --button-primary-text: #dde5f2;
  --button-primary-hover-border: #637a9a;
  --button-warning-bg: #3a3334;
  --button-warning-border: #54484a;
  --button-warning-text: #d6c7c7;
  --button-text-color: #aab7cb;
  --button-text-hover-bg: rgba(139, 154, 176, 0.12);
  --log-time-color: #a8bdd8;
  --log-info-color: #8fa8c6;
  --log-warn-color: #c9b37a;
  --log-error-color: #c58a8a;
  --log-success-color: #8cb39d;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html,
body {
  width: 100%;
  height: 100%;
  min-width: 240px;
  background-color: var(--panel-bg);
  color: var(--text-main);
  font-family: "Segoe UI", "PingFang SC", "Microsoft YaHei", sans-serif;
  font-size: 12px;
  overflow: hidden;
}

#app {
  width: 100%;
  height: 100%;
}

.single-page {
  --plugin-bg-image: none;
  --plugin-bg-opacity: 0;
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
  height: 100%;
  position: relative;
  overflow: hidden;
  padding: 10px;
  background-color: var(--panel-bg);
}

.single-page::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;
  background-image: var(--plugin-bg-image);
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  opacity: var(--plugin-bg-opacity);
  pointer-events: none;
}

.single-page.has-plugin-background::after {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;
  background: var(--panel-bg);
  opacity: 0.08;
  pointer-events: none;
}

.single-page > * {
  position: relative;
  z-index: 1;
}

.single-page.has-plugin-background .main-tabs {
  background: transparent;
}

.single-page.has-plugin-background .main-tabs .t-tabs__content {
  background: transparent;
}

.single-page.has-plugin-background {
  background-color: transparent;
  --panel-bg-soft: rgba(14, 20, 28, 0.32);
  --field-block-bg: rgba(14, 20, 28, 0.24);
  --input-bg: rgba(10, 16, 24, 0.2);
  --main-tabs-bg: transparent;
  --main-tabs-nav-bg: rgba(12, 18, 26, 0.24);
  --main-tabs-active-bg: rgba(58, 78, 104, 0.34);
}

.single-page.has-plugin-background .panel-card {
  background: rgba(14, 20, 28, 0.34);
  backdrop-filter: blur(1px);
}

.single-page.has-plugin-background .settings-section {
  background: rgba(14, 20, 28, 0.28);
}

.main-interaction-focus-anchor {
  position: absolute;
  width: 1px;
  height: 1px;
  opacity: 0;
  border: 0;
  padding: 0;
  margin: 0;
  pointer-events: none;
}

.panel-card {
  border: 1px solid var(--border-color);
  border-radius: 6px;
  background: var(--panel-bg-soft);
}

.panel-card .t-card__body {
  padding: 10px;
}

.collapsible-panel-card .t-card__body {
  position: relative;
  padding-top: 26px;
}

.collapsible-panel-card.is-collapsed .t-card__body {
  padding-bottom: 8px;
}

.panel-collapse-toggle {
  position: absolute;
  top: 6px;
  right: 6px;
  width: 18px;
  height: 18px;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  background: var(--input-bg);
  color: var(--text-main);
  line-height: 1;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
}

.panel-collapse-toggle:hover {
  border-color: var(--button-hover-border);
  background: var(--button-text-hover-bg);
}

.panel-collapse-triangle {
  font-size: 10px;
  transition: transform 0.18s ease;
  transform-origin: center;
}

.panel-collapse-triangle.is-collapsed {
  transform: rotate(-90deg);
}

.panel-collapse-content {
  width: 100%;
}

.panel-header {
  border-color: transparent;
}

.header-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.header-row h3 {
  font-size: 15px;
  line-height: 1.2;
  color: #b4bfce;
}

.header-row p {
  margin-top: 3px;
  color: var(--text-sub);
  font-size: 11px;
}

.main-tabs .t-tabs__nav-wrap {
  border-bottom: none;
  overflow: visible;
}

.main-tabs .t-tabs__nav-wrap::before,
.main-tabs .t-tabs__nav-wrap::after,
.main-tabs .t-tabs__nav-scroll::before,
.main-tabs .t-tabs__nav-scroll::after {
  display: none !important;
}

.main-tabs .t-tabs__nav-container {
  overflow: visible;
  border-radius: 6px;
}

.main-tabs .t-tabs__nav-container,
.main-tabs .t-tabs__nav-scroll,
.main-tabs .t-tabs__nav-wrap,
.main-tabs .t-tabs__nav {
  border: none !important;
}

.main-tabs .t-tabs__nav-container::after,
.main-tabs .t-tabs__nav-container.t-is-top::after,
.main-tabs .t-tabs__nav-container.t-is-bottom::after,
.main-tabs .t-tabs__nav-container.t-is-left::after,
.main-tabs .t-tabs__nav-container.t-is-right::after {
  display: none !important;
  content: none !important;
  background: transparent !important;
}

.main-tabs .t-tabs__btn--left,
.main-tabs .t-tabs__btn--right,
.main-tabs .t-tabs__scroll-btn {
  display: none !important;
  box-shadow: none !important;
  border: none !important;
  background: transparent !important;
}

.main-tabs .t-tabs__nav-container.t-is-addable {
  margin-right: 0 !important;
}

.main-tabs .t-tabs__nav-item {
  color: var(--text-sub);
}

.main-tabs .t-tabs__nav-item.t-is-active {
  color: var(--text-main);
}

.main-tabs {
  border: 1px solid var(--border-color);
  border-radius: 8px;
  background: var(--main-tabs-bg);
  padding: 8px;
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
  width: 100%;
  min-width: 0;
  min-height: 0;
}

.main-tabs .t-tabs__content {
  margin-top: 8px;
  overflow: hidden;
  flex: 1 1 auto;
  width: 100%;
  min-width: 0;
  min-height: 0;
  display: flex;
  flex-direction: column;
}

.main-tabs .t-tabs__content > .t-tab-panel {
  width: 100%;
  min-width: 0;
  min-height: 0;
  height: 100%;
}

.main-tabs .t-tabs__content > .t-tab-panel:not(.t-is-hidden) {
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
  width: 100%;
  min-width: 0;
  min-height: 0;
  overflow: hidden;
}

.main-tabs .t-tabs__bar {
  background: var(--main-tabs-bar-bg);
  border-radius: 0 !important;
}

.main-tabs .t-tabs__nav-scroll {
  background: var(--main-tabs-nav-bg);
  border: 1px solid var(--main-tabs-nav-border);
  border-radius: 6px;
  padding: 2px;
}

.main-tabs .t-tabs__nav-item {
  border-radius: 4px;
  padding: 0 10px;
}

.main-tabs .t-tabs__nav-item.t-is-active {
  background: var(--main-tabs-active-bg);
}

.tab-switch-slider {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 2px 2px;
  flex: 0 0 auto;
}

.tab-switch-slider-label {
  min-width: 64px;
  font-size: 10px;
  color: var(--tab-slider-label-color);
}

.tab-switch-slider-input {
  flex: 1 1 auto;
  width: 100%;
  accent-color: var(--tab-slider-accent-color);
  cursor: ew-resize;
}

.tab-pane-body {
  display: flex;
  flex-direction: column;
  gap: 8px;
  flex: 1 1 auto;
  width: 100%;
  min-width: 0;
  min-height: 0;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  overscroll-behavior: contain;
  padding-right: 2px;
}

.tab-pane-body > .panel-card {
  flex: 0 0 auto;
  width: 100%;
  min-width: 0;
}

.single-form-card,
.single-action-card,
.single-quota-card,
.single-preview-card,
.batch-head-card,
.batch-queue-card,
.batch-run-card,
.image-preview-upload-card,
.image-preview-carousel-card {
  background: linear-gradient(180deg, var(--card-gradient-start) 0%, var(--card-gradient-end) 100%);
}

.single-form-card .field-block {
  border: 1px solid var(--field-border-color);
  border-radius: 6px;
  padding: 8px;
  background: var(--field-block-bg);
}

.single-form-card .field-block.field-prompt {
  padding-bottom: 0;
}

.single-action-card .t-card__body,
.batch-run-card .t-card__body {
  padding-top: 12px;
  padding-bottom: 12px;
}

.batch-head-card .t-card__body {
  padding-top: 8px;
  padding-bottom: 8px;
}

.tab-label-with-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.tab-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 16px;
  height: 16px;
  padding: 0 4px;
  border-radius: 999px;
  font-size: 10px;
  color: #d8e2f1;
  background: var(--btn-border);
}

.form-grid {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.field-block {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.api-key-autocomplete {
  width: 100%;
}

.api-key-name-list {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.api-key-name-item {
  border: 1px solid var(--field-border-color);
  background: var(--input-bg);
  color: var(--tag-primary-light-text);
  border-radius: 999px;
  padding: 4px 12px;
  font-size: 11px;
  cursor: pointer;
  transition: border-color 0.2s ease, background 0.2s ease, color 0.2s ease;
}

.api-key-name-item:hover {
  border-color: var(--button-hover-border);
  background: var(--button-text-hover-bg);
  color: var(--button-hover-text);
}

.api-key-name-item.is-active {
  border-color: var(--btn-primary-border);
  background: var(--btn-primary-bg);
  color: var(--button-primary-text);
}

.field-block > label,
.field-head-row > label {
  color: var(--text-sub);
  font-size: 11px;
  font-weight: 600;
}

.field-head-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.field-head-actions {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  flex-wrap: wrap;
}

.field-head-row .t-button {
  min-height: 22px;
  padding: 0 6px;
  font-size: 11px;
}


.field-prompt .t-textarea {
  width: 100%;
}

.field-prompt .t-textarea__inner {
  width: 100%;
  max-width: 100%;
  min-height: 88px;
  resize: vertical;
}
.field-prompt .t-textarea__info_wrapper {
  display: none;
}

.single-form-card .t-input__inner::placeholder,
.single-form-card .t-textarea__inner::placeholder {
  color: #b7cae3;
  opacity: 1;
}

.single-form-card .t-input__placeholder {
  color: #b7cae3;
}

.tab-pane-settings .t-input__inner::placeholder,
.tab-pane-settings .t-textarea__inner::placeholder {
  color: #b7cae3;
  opacity: 1;
}

.tab-pane-settings .t-input__placeholder {
  color: #b7cae3;
}

.inline-grid {
  display: grid;
  gap: 6px;
}

.inline-grid-2 {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.inline-grid-3 {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.param-inline-row {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 6px;
}

.param-inline-row-2 {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 6px;
}

.param-item {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 4px;
}

.param-item-label {
  color: var(--text-sub);
  font-size: 10px;
  text-align: left;
}

.param-item .t-select,
.param-item .t-input-number,
.param-item .t-input-number .t-input {
  width: 100%;
}

.anti-row {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 6px;
}

.action-row {
  display: flex;
  align-items: stretch;
  flex-wrap: nowrap;
  gap: 6px;
}

.action-row .t-button {
  flex: 1 1 0;
  min-width: 0;
  padding-left: 8px;
  padding-right: 8px;
}

.action-row .t-button__text {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.batch-header-row {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  align-items: center;
}

.batch-title {
  font-size: 12px;
  font-weight: 700;
  color: var(--text-main);
}

.batch-subtitle {
  margin-top: 2px;
  font-size: 10px;
  color: var(--text-sub);
}

.batch-list-card .t-card__body {
  padding: 0;
}

.batch-list {
  max-height: 260px;
  overflow: hidden;
  padding: 6px;
}

.batch-item {
  padding: 10px;
  border-bottom: 1px solid var(--border-color);
  background: var(--field-block-bg);
}

.batch-item:last-child {
  border-bottom: none;
}

.batch-item + .batch-item {
  margin-top: 2px;
}

.batch-item-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.batch-item-doc {
  font-size: 11px;
  font-weight: 600;
  color: #cdd9ea;
}

.batch-item-meta {
  margin-top: 4px;
  font-size: 10px;
  color: var(--text-sub);
}

.batch-item-prompt {
  margin-top: 4px;
  font-size: 10px;
  color: #b6c2d2;
  line-height: 1.4;
  word-break: break-word;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.batch-empty {
  min-height: 130px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 12px;
  color: var(--text-sub);
}

.batch-run-row {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.batch-note {
  font-size: 10px;
  color: var(--text-sub);
}

.single-page .batch-run-card .t-button--theme-primary,
.single-page .batch-run-card .t-button.t-is-loading.t-button--theme-primary {
  background: var(--btn-primary-bg);
  border-color: var(--btn-primary-border);
  color: var(--button-primary-text);
}

.single-page .batch-run-card .t-button--theme-primary:hover,
.single-page .batch-run-card .t-button.t-is-loading.t-button--theme-primary:hover {
  background: var(--btn-primary-hover);
  border-color: var(--button-primary-hover-border);
}

.single-page .global-partition-run-btn.t-button--theme-primary,
.single-page .global-partition-run-btn.t-button.t-is-loading.t-button--theme-primary {
  background: var(--btn-primary-bg);
  border-color: var(--btn-primary-border);
  color: var(--button-primary-text);
}

.single-page .global-partition-run-btn.t-button--theme-primary:hover,
.single-page .global-partition-run-btn.t-button.t-is-loading.t-button--theme-primary:hover {
  background: var(--btn-primary-hover);
  border-color: var(--button-primary-hover-border);
}

.settings-card .t-card__body {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.settings-section {
  display: flex;
  flex-direction: column;
  gap: 8px;
  border: 1px solid #2a323e;
  border-radius: 6px;
  background: var(--field-block-bg);
  padding: 10px;
}

.settings-section-title {
  font-size: 11px;
  font-weight: 700;
  color: #ccd8e8;
}

/* Tighten spacing only on settings tab: title/content looked too loose. */
.tab-pane-settings .settings-card .t-card__body {
  gap: 8px;
}

.tab-pane-settings .settings-section {
  gap: 5px;
  padding: 8px;
}

.tab-pane-settings .settings-section > .field-block:first-of-type {
  margin-top: 1px;
}

.tab-pane-settings .settings-section-title {
  line-height: 1.15;
}

.settings-inline-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.settings-status-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  color: #b8c6d8;
  font-size: 10px;
}

.settings-hint {
  font-size: 10px;
  color: var(--text-sub);
  line-height: 1.4;
}

.plugin-bg-preview {
  width: 100%;
  max-width: 260px;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  overflow: hidden;
  background: var(--input-bg);
}

.plugin-bg-preview img {
  display: block;
  width: 100%;
  max-height: 120px;
  object-fit: cover;
}

.plugin-bg-input {
  display: none;
}

.plugin-bg-opacity-range {
  width: 100%;
  accent-color: var(--tab-slider-accent-color);
  cursor: ew-resize;
}

.api-key-manage-hint {
  color: #c8daf2;
}

.ai-chat-card .t-card__body {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.ai-chat-section {
  gap: 10px;
}

.ai-chat-api-key-row {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  align-items: center;
  gap: 8px;
  width: 100%;
}

.ai-chat-api-key-input {
  width: 100%;
  min-width: 0;
}

.manage-api-key-password-input .t-input__suffix > .t-icon,
.ai-chat-api-key-input .t-input__suffix > .t-icon,
.manage-api-key-password-input .t-icon-browse,
.manage-api-key-password-input .t-icon-browse-off,
.ai-chat-api-key-input .t-icon-browse,
.ai-chat-api-key-input .t-icon-browse-off,
.manage-api-key-password-input .t-input__suffix-clear,
.ai-chat-api-key-input .t-input__suffix-clear {
  color: #fff !important;
}

.manage-api-key-password-input .t-input__suffix > .t-icon:hover,
.ai-chat-api-key-input .t-input__suffix > .t-icon:hover,
.manage-api-key-password-input .t-icon-browse:hover,
.manage-api-key-password-input .t-icon-browse-off:hover,
.ai-chat-api-key-input .t-icon-browse:hover,
.ai-chat-api-key-input .t-icon-browse-off:hover {
  color: #fff !important;
}

.manage-api-key-password-input .t-input__suffix > .t-icon svg,
.ai-chat-api-key-input .t-input__suffix > .t-icon svg,
.manage-api-key-password-input .t-icon-browse svg,
.manage-api-key-password-input .t-icon-browse-off svg,
.ai-chat-api-key-input .t-icon-browse svg,
.ai-chat-api-key-input .t-icon-browse-off svg {
  fill: currentColor !important;
  stroke: currentColor !important;
}

.manage-api-key-password-input input[type="password"]::-ms-reveal,
.ai-chat-api-key-input input[type="password"]::-ms-reveal,
.manage-api-key-password-input input[type="password"]::-ms-clear,
.ai-chat-api-key-input input[type="password"]::-ms-clear {
  display: none !important;
}

.manage-api-key-password-input .t-input__inner::-ms-reveal,
.ai-chat-api-key-input .t-input__inner::-ms-reveal {
  filter: brightness(1.25);
}

.ai-chat-api-key-row .t-button {
  white-space: nowrap;
}

.ai-chat-meta-row {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  font-size: 10px;
  color: #b7c8de;
}

.ai-chat-selected-model {
  font-size: 11px;
  color: #d6e5f9;
  border: 1px solid #344862;
  border-radius: 6px;
  padding: 6px 8px;
  background: var(--tag-primary-light-bg);
  word-break: break-word;
}

.ai-chat-selected-model-btn {
  width: 100%;
  text-align: left;
  cursor: pointer;
  transition: border-color 0.2s ease, background 0.2s ease;
}

.ai-chat-selected-model-btn:hover {
  border-color: var(--btn-primary-border);
  background: var(--button-text-hover-bg);
}

.ai-chat-model-select .t-input__inner::placeholder {
  color: #c3d7f2;
  opacity: 1;
}

.ai-chat-model-select .t-input__placeholder {
  color: #c3d7f2;
}

.ai-chat-dialog-section {
  min-height: 0;
}

.ai-chat-conversation-card {
  min-height: 520px;
}

.ai-chat-avatar-editor {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.ai-chat-avatar-actions {
  align-items: center;
}

.ai-chat-avatar-input {
  display: none;
}

.ai-chat-messages {
  min-height: 280px;
  max-height: 520px;
  overflow-y: auto;
  overflow-x: hidden;
  border: 1px solid var(--field-border-color);
  border-radius: 12px;
  background:
      radial-gradient(circle at 0% 0%, var(--tag-primary-light-bg), transparent 40%),
      radial-gradient(circle at 100% 100%, var(--button-text-hover-bg), transparent 45%),
      var(--input-bg);
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.ai-chat-message-row {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  width: 100%;
}

.ai-chat-message-row.is-user {
  justify-content: flex-start;
  flex-direction: row-reverse;
}

.ai-chat-message-row.is-assistant {
  justify-content: flex-start;
  flex-direction: row;
}

.ai-chat-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  flex: 0 0 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  color: #dbe8fb;
  border: 1px solid #486386;
  background: linear-gradient(145deg, var(--panel-bg-soft), var(--panel-bg));
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.35);
}

.ai-chat-avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.ai-chat-avatar-user-preview {
  width: 40px;
  height: 40px;
  flex: 0 0 40px;
}

.ai-chat-avatar.is-user {
  border-color: var(--btn-primary-border);
  background: linear-gradient(145deg, var(--btn-primary-hover), var(--btn-primary-bg));
}

.ai-chat-avatar.is-assistant {
  border-color: var(--btn-border);
  background: linear-gradient(145deg, var(--panel-bg-soft), var(--input-bg));
}

.ai-chat-avatar span {
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.2px;
}

.ai-chat-ai-icon {
  width: 18px;
  height: 18px;
}

.ai-chat-message-time {
  font-size: 10px;
  color: #9eaec5;
}

.ai-chat-bubble {
  width: fit-content;
  max-width: min(66%, 760px);
  border-radius: 14px;
  border: 1px solid #3f566f;
  padding: 8px 10px;
  background: var(--panel-bg-soft);
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.ai-chat-message-row.is-user .ai-chat-bubble {
  border-color: var(--btn-primary-border);
  background: linear-gradient(160deg, var(--btn-primary-hover), var(--btn-primary-bg));
}

.ai-chat-message-row.is-assistant .ai-chat-bubble {
  border-color: var(--btn-border);
  background: linear-gradient(160deg, var(--panel-bg-soft), var(--input-bg));
}

.ai-chat-message-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.ai-chat-role-name {
  font-size: 10px;
  font-weight: 600;
  color: #cad8eb;
}

.ai-chat-message-body {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.ai-chat-markdown {
  color: #deebff;
  font-size: 11px;
  line-height: 1.65;
  word-break: break-word;
}

.ai-chat-markdown h1,
.ai-chat-markdown h2,
.ai-chat-markdown h3,
.ai-chat-markdown h4,
.ai-chat-markdown h5,
.ai-chat-markdown h6 {
  margin: 0 0 5px;
  color: #edf5ff;
  line-height: 1.35;
}

.ai-chat-markdown p {
  margin: 0;
}

.ai-chat-markdown ul,
.ai-chat-markdown ol {
  margin: 0;
  padding-left: 20px;
}

.ai-chat-markdown a {
  color: #9fc8ff;
  text-decoration: underline;
}

.ai-chat-markdown code {
  display: inline-block;
  padding: 0 5px;
  border-radius: 4px;
  background: var(--tag-primary-light-bg);
  color: #f0f6ff;
  font-family: Consolas, "Courier New", monospace;
}

.ai-chat-code-block {
  border: 1px solid #4d698a;
  border-radius: 8px;
  background: var(--input-bg);
  overflow: hidden;
}

.ai-chat-code-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 6px;
  padding: 6px 8px;
  border-bottom: 1px solid #30455d;
  color: #c1d6f2;
  font-size: 10px;
  background: var(--panel-bg-soft);
}

.ai-chat-code-block pre {
  margin: 0;
  padding: 9px;
  overflow: auto;
  max-height: 220px;
}

.ai-chat-code-block code {
  font-family: Consolas, "Courier New", monospace;
  font-size: 11px;
  color: #deebff;
  white-space: pre;
}

.ai-chat-upload-input {
  display: none;
}

.ai-chat-input-textarea .t-textarea__inner {
  min-height: 86px;
  color: var(--text-main);
  color: color-mix(in srgb, var(--text-main) 90%, #fff 10%);
}

.ai-chat-input-textarea .t-textarea__inner::placeholder {
  color: var(--text-sub);
  color: color-mix(in srgb, var(--text-sub) 88%, #fff 12%);
}

.ai-chat-params-dialog {
  background: var(--panel-bg-soft);
  border: 1px solid var(--border-color);
  border-radius: 10px;
  color: var(--text-main);
}

.ai-chat-params-dialog .t-dialog__header {
  color: var(--text-main);
  border-bottom: 1px solid var(--border-color);
}

.ai-chat-params-dialog .t-dialog__body {
  color: var(--text-main);
  background: transparent;
}

.ai-chat-params-dialog .t-dialog__footer {
  border-top: 1px solid var(--border-color);
  background: transparent;
}

.ai-chat-params-body {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.ai-chat-param-row {
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(340px, 52%);
  align-items: center;
  gap: 12px;
  border: 1px solid var(--field-border-color);
  background: var(--field-block-bg);
  border-radius: 8px;
  padding: 10px 12px;
}

.ai-chat-param-label-wrap {
  display: flex;
  flex-direction: column;
  gap: 3px;
  min-width: 0;
}

.ai-chat-param-label {
  font-size: 12px;
  font-weight: 700;
  color: var(--text-main);
}

.ai-chat-param-desc {
  font-size: 10px;
  color: var(--text-sub);
}

.ai-chat-param-control {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  align-items: center;
  gap: 10px;
}

.ai-chat-param-range {
  width: 100%;
  accent-color: var(--tab-slider-accent-color);
}

.ai-chat-param-value {
  min-width: 54px;
  text-align: right;
  font-size: 12px;
  color: var(--text-main);
}

.ai-chat-param-role-block {
  border: 1px solid var(--field-border-color);
  background: var(--field-block-bg);
  border-radius: 8px;
  padding: 10px 12px;
}

.ai-chat-param-role-block .t-textarea__inner::placeholder {
  color: var(--text-sub);
  color: color-mix(in srgb, var(--text-sub) 62%, var(--text-main) 38%);
  opacity: 1;
}

.ai-chat-param-role-block .t-textarea .t-input__placeholder {
  color: var(--text-sub);
  color: color-mix(in srgb, var(--text-sub) 62%, var(--text-main) 38%);
  opacity: 1;
}

.ai-chat-param-advanced {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.ai-chat-params-footer {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.ai-chat-params-footer-actions {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.ai-chat-json-checkbox {
  display: inline-flex;
  align-items: center;
  min-height: 32px;
  color: var(--text-main);
}

.ai-chat-action-row {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
  align-items: center;
  column-gap: 6px;
  row-gap: 0;
  white-space: nowrap;
  overflow-x: auto;
  overflow-y: hidden;
}

.ai-chat-action-row .ai-chat-json-checkbox {
  white-space: nowrap;
}

.ai-chat-use-json-tooltip {
  display: inline-flex;
}

.ai-chat-json-tooltip {
  display: inline-flex;
}

.ai-chat-pending-list {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.ai-chat-pending-item {
  display: flex;
  align-items: center;
  gap: 8px;
  border: 1px solid #38506b;
  border-radius: 8px;
  background: var(--panel-bg-soft);
  padding: 6px;
}

.ai-chat-pending-item img {
  width: 34px;
  height: 34px;
  object-fit: cover;
  border-radius: 6px;
  border: 1px solid #4b6686;
  background: var(--input-bg);
}

.ai-chat-pending-item span {
  flex: 1 1 auto;
  min-width: 0;
  font-size: 10px;
  color: #d4e0f2;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.ai-chat-image-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
  gap: 8px;
}

.ai-chat-image-item {
  display: flex;
  flex-direction: column;
  gap: 3px;
}

.ai-chat-image-item img {
  width: 100%;
  height: 88px;
  object-fit: cover;
  border: 1px solid #4b688a;
  border-radius: 8px;
  background: var(--input-bg);
}

.ai-chat-image-name {
  font-size: 10px;
  color: #a9bad2;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.settings-result-grid {
  grid-template-columns: repeat(4, minmax(0, 1fr));
}

.prompt-create-section {
  gap: 10px;
}

.prompt-create-section .t-input__inner::placeholder,
.prompt-create-section .t-textarea__inner::placeholder,
.prompt-create-section .t-tag-input__input::placeholder {
  color: var(--text-sub);
  opacity: 1;
}

.prompt-create-section .t-input__placeholder,
.prompt-create-section .t-tag-input .t-input__placeholder {
  color: var(--text-sub);
}

.quick-prompt-save-body {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.startup-notice-dialog {
  background: linear-gradient(160deg, var(--card-gradient-start), var(--card-gradient-end));
  border: 1px solid var(--border-color);
  border-radius: 12px;
  color: var(--text-main);
}

.startup-notice-dialog .t-dialog__header {
  color: var(--text-main);
  border-bottom: 1px solid var(--field-border-color);
  padding: 14px 16px 10px;
}

.startup-notice-dialog .t-dialog__body {
  color: var(--text-main);
  background: transparent;
  padding: 12px 16px;
}

.startup-notice-dialog .t-dialog__footer {
  border-top: 1px solid var(--field-border-color);
  background: transparent;
  padding: 10px 16px 14px;
}

.startup-notice-dialog .t-dialog__close {
  color: var(--text-main);
}

.startup-notice-dialog .t-dialog__close:hover {
  color: var(--button-hover-text);
}

.startup-notice-body {
  white-space: pre-line;
  line-height: 1.72;
}

.startup-notice-signature {
  margin-top: 10px;
  text-align: right;
  color: var(--text-sub);
  font-size: 11px;
}

.quick-prompt-save-dialog {
  background: var(--panel-bg-soft);
  border: 1px solid #2f3a49;
  border-radius: 10px;
  color: #d7e3f3;
}

.quick-prompt-save-dialog .t-dialog__header {
  color: #dfeaff;
  padding: 14px 16px 10px;
  border-bottom: 1px solid #2b3644;
}

.quick-prompt-save-dialog .t-dialog__body {
  color: #c4d2e6;
  padding: 12px 16px;
  background: transparent;
}

.quick-prompt-save-dialog .t-dialog__footer {
  padding: 10px 16px 14px;
  border-top: 1px solid #2b3644;
  background: transparent;
}

.quick-prompt-save-dialog .t-dialog__close {
  color: #d7e3f3;
}

.quick-prompt-save-dialog .t-dialog__close:hover {
  color: #fff;
}

.quick-prompt-save-body .field-block {
  border: 1px solid #2a323e;
  border-radius: 6px;
  padding: 8px;
  background: var(--field-block-bg);
}

.quick-prompt-save-body .field-block.field-prompt {
  padding-bottom: 0;
}

.quick-prompt-save-footer {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.prompt-create-storage-card .t-card__body {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.prompt-create-storage-label {
  font-size: 10px;
  color: var(--text-sub);
}

.prompt-create-storage-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.prompt-create-storage-path {
  font-size: 10px;
  color: #a8bdd8;
  background: var(--input-bg);
  border: 1px solid #2e3744;
  border-radius: 4px;
  padding: 6px;
  word-break: break-all;
  white-space: pre-wrap;
}

.prompt-create-storage-meta {
  font-size: 10px;
  color: #b8c6d8;
}

.prompt-query-search-card .t-card__body {
  display: flex;
  flex-direction: column;
  gap: 10px;
  background: linear-gradient(180deg, var(--card-gradient-start) 0%, var(--card-gradient-end) 100%);
}

.prompt-query-head {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.prompt-query-title {
  font-size: 13px;
  font-weight: 700;
  color: #dce6f6;
  letter-spacing: 0.2px;
}

.prompt-query-subtitle {
  font-size: 10px;
  color: #98a7bd;
}

.prompt-query-search-row {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 8px;
}

.prompt-query-search-wrap {
  display: flex;
  justify-content: center;
  position: relative;
  width: 100%;
}

.prompt-query-search-input {
  width: 100%;
  height: 38px;
  border-radius: 999px;
  border: 1px solid var(--field-border-color);
  background: var(--input-bg);
  color: var(--text-main);
  padding: 0 38px 0 38px;
  outline: none;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.32);
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}

.prompt-query-search-icon {
  position: absolute;
  left: 13px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-sub);
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.3px;
  pointer-events: none;
}

.prompt-query-search-input:focus {
  border-color: var(--accent-color);
  background: var(--panel-bg-soft);
  box-shadow: 0 0 0 2px var(--button-text-hover-bg);
}

.prompt-query-search-clear {
  position: absolute;
  right: 9px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 1;
  width: 20px;
  height: 20px;
  border-radius: 999px;
  border: 1px solid var(--btn-border);
  background: var(--panel-bg-soft);
  color: var(--text-sub);
  font-size: 12px;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-weight: 700;
}

.prompt-query-search-clear:hover {
  color: var(--text-main);
  border-color: var(--accent-color);
  background: var(--button-text-hover-bg);
}

.prompt-query-search-clear:focus-visible {
  outline: 1px solid var(--accent-color);
  outline-offset: 1px;
}

.prompt-query-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.prompt-query-toolbar-actions {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.prompt-query-force-row {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 10px;
  color: #c2d5ef;
}

.prompt-query-fav-row {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 10px;
  color: #c2d5ef;
}

.prompt-query-source-row {
  display: inline-flex;
  align-items: center;
  flex-direction: row;
  gap: 6px;
  font-size: 10px;
  color: #c2d5ef;
  white-space: nowrap;
}

.prompt-query-source-label {
  display: inline-block;
  white-space: nowrap;
  writing-mode: horizontal-tb;
}

.prompt-query-source-control {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.prompt-query-source-select {
  min-width: 102px;
}

.prompt-query-source-select .t-input,
.prompt-query-source-select .t-input__inner,
.prompt-query-source-select .t-select-input,
.prompt-query-source-select .t-input__wrap,
.prompt-query-source-select .t-input-adornment,
.prompt-query-source-select .t-select-input__wrap {
  background: var(--input-bg);
  border-color: var(--field-border-color);
  color: var(--text-main);
}

.prompt-query-source-clear {
  width: 20px;
  height: 20px;
  border-radius: 999px;
  border: 1px solid var(--btn-border);
  background: var(--panel-bg-soft);
  color: var(--text-main);
  font-size: 12px;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-weight: 700;
}

.prompt-query-source-clear:hover {
  border-color: var(--accent-color);
  background: var(--button-text-hover-bg);
}

.prompt-query-source-clear:focus-visible {
  outline: 1px solid var(--accent-color);
  outline-offset: 1px;
}

.prompt-query-source-dropdown,
.prompt-query-source-dropdown .t-popup__content,
.prompt-query-source-dropdown .t-select__dropdown,
.prompt-query-source-dropdown .t-select__dropdown .t-select__list {
  background: var(--select-option-bg) !important;
  border-color: var(--border-color) !important;
  color: var(--text-main);
}

.prompt-query-source-dropdown .t-select-option {
  background: transparent !important;
  color: var(--text-main) !important;
}

.prompt-query-source-dropdown .t-select-option:hover,
.prompt-query-source-dropdown .t-select-option.t-is-hover {
  background: var(--button-text-hover-bg) !important;
}

.prompt-query-source-dropdown .t-select-option.t-is-selected {
  background: var(--main-tabs-active-bg) !important;
  color: var(--text-main) !important;
}

.prompt-query-stats {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.prompt-query-stat {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 10px;
  color: #aebed6;
  background: var(--tag-primary-light-bg);
  border: 1px solid var(--btn-border);
}

.prompt-query-stat-active {
  color: #dce9ff;
  background: var(--button-text-hover-bg);
  border-color: var(--btn-primary-border);
}

.prompt-query-list-card .t-card__body {
  padding: 8px;
  background: linear-gradient(180deg, var(--card-gradient-start) 0%, var(--card-gradient-end) 100%);
}

.prompt-query-list {
  display: grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap: 10px;
}

.prompt-query-item {
  position: relative;
  border: 1px solid var(--field-border-color);
  border-radius: 8px;
  background: var(--panel-bg-soft);
  padding: 15px 10px 9px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  cursor: pointer;
  transition: border-color 0.2s ease, background 0.2s ease;
}

@media (max-width: 1600px) {
  .prompt-query-list {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

@media (max-width: 1280px) {
  .prompt-query-list {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

@media (max-width: 960px) {
  .prompt-query-list {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 640px) {
  .prompt-query-list {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }
}

.prompt-query-item:hover {
  border-color: var(--btn-primary-border);
  background: var(--main-tabs-active-bg);
}

.prompt-query-item-head {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 8px;
  padding-right: 84px;
  margin-top: 2px;
}

.prompt-query-item-title {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
  min-width: 0;
}

.prompt-query-item-name {
  color: #e0ecff;
  font-size: 12px;
}

.prompt-query-item-category {
  display: inline-flex;
  align-items: center;
  padding: 1px 6px;
  border-radius: 999px;
  font-size: 10px;
  color: #cdd8ea;
  background: var(--tag-primary-light-bg);
  border: 1px solid var(--btn-border);
}

.prompt-query-type-badge {
  position: absolute;
  top: 8px;
  right: 10px;
  display: inline-flex;
  align-items: center;
  height: 18px;
  padding: 0 8px;
  border-radius: 999px;
  font-size: 10px;
  line-height: 1;
  border: 1px solid transparent;
}

.prompt-query-type-badge.is-local {
  color: #b7c9e4;
  background: var(--tag-primary-light-bg);
  border-color: var(--btn-border);
}

.prompt-query-type-badge.is-library {
  color: #e6d7b2;
  background: var(--button-warning-bg);
  border-color: var(--button-warning-border);
}

.prompt-query-item-time {
  color: #90a5c2;
  font-size: 10px;
  white-space: nowrap;
}

.prompt-query-item-foot {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
  margin-top: 2px;
}

.prompt-query-item > .prompt-query-item-foot {
  margin-top: auto;
  padding-top: 6px;
}

.prompt-query-item-foot .prompt-query-item-time {
  margin-right: auto;
}

.prompt-query-fav-btn {
  min-width: 22px;
  padding: 0 4px;
  font-size: 14px;
  line-height: 1;
}

.prompt-query-item-content {
  color: #d0ddf1;
  font-size: 10px;
  line-height: 1.5;
  white-space: pre-wrap;
  word-break: break-word;
}

.prompt-query-item-content.is-clamped {
  display: -webkit-box;
  overflow: hidden;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 4;
  min-height: calc(1.5em * 4);
}

.prompt-query-item-desc {
  color: #a4b8d3;
  font-size: 10px;
  line-height: 1.4;
  white-space: pre-wrap;
  word-break: break-word;
}

.prompt-query-item-desc.is-clamped {
  display: -webkit-box;
  overflow: hidden;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  min-height: calc(1.4em * 2);
}

.prompt-query-item-desc.is-empty {
  visibility: hidden;
}

.prompt-query-detail {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.prompt-query-detail-head {
  display: flex;
  justify-content: flex-start;
}

.prompt-query-detail-card {
  position: relative;
  border: 1px solid #3a4e69;
  border-radius: 8px;
  background: var(--panel-bg-soft);
  padding: 12px 10px 9px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.prompt-query-detail-badge {
  top: 10px;
  right: 10px;
}

.prompt-query-detail-title-row {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
  padding-right: 84px;
}

.prompt-query-detail-desc {
  color: #b6c7df;
  font-size: 11px;
  line-height: 1.5;
  white-space: pre-wrap;
  word-break: break-word;
}

.prompt-query-detail-content {
  color: #e2edff;
  font-size: 11px;
  line-height: 1.6;
  white-space: pre-wrap;
  word-break: break-word;
  border: 1px solid var(--btn-border);
  background: var(--log-bg);
  border-radius: 6px;
  padding: 10px;
}

.prompt-query-tag-row {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  min-height: 18px;
}

.prompt-query-tag-row.is-empty {
  visibility: hidden;
}

.prompt-query-tag {
  display: inline-flex;
  align-items: center;
  border: 1px solid var(--btn-border);
  border-radius: 999px;
  padding: 1px 7px;
  font-size: 10px;
  color: #c6d8f4;
  background: var(--panel-bg-soft);
}

.quota-card {
  background: var(--tag-primary-light-bg);
  border-color: var(--btn-border);
}

.quota-grid {
  display: grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap: 6px;
}

.quota-item {
  display: flex;
  flex-direction: column;
  gap: 2px;
  padding: 6px;
  border-radius: 4px;
  background: var(--input-bg);
}

.quota-item > span {
  font-size: 10px;
  color: var(--text-sub);
}

.quota-item > strong {
  font-size: 13px;
  color: #c8d3e6;
}

.preview-box {
  border: 1px solid var(--border-color);
  border-radius: 4px;
  background: var(--input-bg);
  min-height: 100px;
  max-height: 220px;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}

.preview-box img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}

.image-preview-hidden-input {
  display: none;
}

.image-preview-section {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.image-preview-head {
  display: flex;
  flex-direction: column;
  gap: 3px;
}

.image-preview-subtitle {
  font-size: 10px;
  color: var(--text-sub);
}

.image-preview-count {
  color: #b8c6d8;
  font-size: 10px;
  display: inline-flex;
  align-items: center;
}

.image-preview-carousel-shell {
  display: flex;
  align-items: stretch;
  gap: 6px;
  min-height: 240px;
}

.image-preview-nav {
  flex: 0 0 auto;
  min-width: 24px;
  width: 24px;
  padding: 0;
  font-size: 16px;
  align-self: center;
}

.image-preview-carousel {
  flex: 1 1 auto;
  min-width: 0;
  display: flex;
  overflow-x: auto;
  overflow-y: hidden;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  background: var(--input-bg);
}

.image-preview-slide {
  flex: 0 0 100%;
  min-width: 100%;
  scroll-snap-align: center;
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding: 8px;
}

.image-preview-img-wrap {
  border: 1px solid #2a323e;
  border-radius: 4px;
  background: var(--panel-bg);
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  position: relative;
  user-select: none;
  cursor: grab;
}

.image-preview-img-wrap.is-panning {
  cursor: grabbing;
}

.image-preview-img-wrap img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  transform-origin: center center;
  will-change: transform;
  transition: transform 0.08s linear;
  pointer-events: none;
}

.image-preview-zoom-tag {
  position: absolute;
  right: 6px;
  bottom: 6px;
  padding: 2px 5px;
  border-radius: 4px;
  font-size: 10px;
  line-height: 1.2;
  color: #d8e2f1;
  background: var(--log-bg);
  border: 1px solid var(--btn-border);
}

.image-preview-meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  min-width: 0;
  color: #b6c2d2;
  font-size: 10px;
}

.image-preview-meta-resize {
  cursor: ns-resize;
  user-select: none;
}

.image-preview-meta-resize .t-button {
  cursor: pointer;
}

.image-preview-meta > span {
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.log-card .t-card__body {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.log-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  color: var(--text-sub);
  font-size: 11px;
  font-weight: 600;
}

.log-actions {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.log-window {
  flex: 1 1 auto;
  min-height: 140px;
  max-height: 280px;
  overflow-y: auto;
  overflow-x: hidden;
  overscroll-behavior: contain;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  background: var(--log-bg);
  padding: 6px;
}

.log-line {
  line-height: 1.5;
  margin-bottom: 2px;
  word-break: break-word;
}

.log-time {
  color: var(--log-time-color);
  font-weight: 600;
  margin-right: 5px;
  font-family: Consolas, monospace;
  font-size: 10px;
}

.log-info {
  color: var(--log-info-color);
}

.log-warn {
  color: var(--log-warn-color);
}

.log-error {
  color: var(--log-error-color);
}

.log-success {
  color: var(--log-success-color);
}

.single-page .t-input__inner,
.single-page .t-textarea__inner,
.single-page .t-input-number__decrease,
.single-page .t-input-number__increase,
.single-page .t-input-number__input,
.single-page .t-input,
.single-page .t-textarea,
.single-page .t-select-input,
.single-page .t-input-number {
  background: var(--input-bg);
  color: var(--text-main);
}

.single-page .t-input,
.single-page .t-textarea,
.single-page .t-select-input,
.single-page .t-input-number,
.single-page .t-card,
.single-page .t-textarea__inner,
.single-page .t-input__inner,
.single-page .t-input-number__input {
  border-color: var(--border-color);
}

.single-page .t-select-option {
  background: var(--select-option-bg);
  color: var(--text-main);
}

.single-page .t-tag--primary-light {
  background: var(--tag-primary-light-bg);
  color: var(--tag-primary-light-text);
}

.single-page .t-button {
  background: var(--btn-bg);
  border-color: var(--btn-border);
  color: var(--text-main);
}

.single-page .t-button:hover {
  background: var(--btn-hover);
  border-color: var(--button-hover-border);
  color: var(--button-hover-text);
}

.single-page .t-button:disabled {
  opacity: 0.65;
}

.single-page .t-button--theme-primary,
.single-page .t-button.t-is-loading.t-button--theme-primary {
  background: var(--btn-primary-bg);
  border-color: var(--btn-primary-border);
  color: var(--button-primary-text);
}

.single-page .t-button--theme-primary:hover,
.single-page .t-button.t-is-loading.t-button--theme-primary:hover {
  background: var(--btn-primary-hover);
  border-color: var(--button-primary-hover-border);
}

.single-page .t-button--theme-warning,
.single-page .t-button--theme-danger {
  background: var(--button-warning-bg);
  border-color: var(--button-warning-border);
  color: var(--button-warning-text);
}

.single-page .t-button--variant-text {
  background: transparent;
  border-color: transparent;
  color: var(--button-text-color);
}

.single-page .t-button--variant-text:hover {
  background: var(--button-text-hover-bg);
  border-color: transparent;
}

@media (max-width: 520px) {
  .inline-grid-3,
  .quota-grid,
  .param-inline-row {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .param-inline-row-2 {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }

  .batch-header-row {
    align-items: flex-start;
    flex-direction: column;
  }

  .settings-result-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .ai-chat-avatar-editor {
    width: 100%;
    justify-content: space-between;
  }

  .ai-chat-bubble {
    max-width: calc(100% - 46px);
  }

  .ai-chat-messages {
    min-height: 240px;
    max-height: 440px;
  }

  .ai-chat-param-row {
    grid-template-columns: 1fr;
  }

  .image-preview-carousel-shell {
    min-height: 210px;
  }

  .prompt-query-toolbar {
    flex-direction: column;
    align-items: flex-start;
  }

  .prompt-query-search-row {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }

  .prompt-query-toolbar-actions {
    width: 100%;
  }

  .prompt-query-item-head {
    flex-direction: column;
    align-items: flex-start;
    padding-right: 0;
    padding-top: 16px;
  }

  .prompt-query-detail-title-row {
    padding-right: 0;
    padding-top: 16px;
  }
}
